## ì˜¤ëŠ˜ í•œ ì¼
ğŸ“ƒ **ë‚˜ë§Œì˜ ì‚¬ì „ ë§Œë“¤ê¸°**
 - **ê²Œì‹œê¸€ ëª©ë¡ì„ íŒŒì´ì–´ìŠ¤í† ì–´ì—ì„œ ê°€ì ¸ì˜¤ê¸°**
 
â‘  **ì•¡ì…˜ íƒ€ì…** 
```javascript
const LOAD = 'words/LOAD';
```
 
â‘¡ **ì•¡ì…˜ ìƒì„± í•¨ìˆ˜** 
```javascript
export function loadWord(word_list) {
  return { type: LOAD, word_list };
}
```
 
â‘¢ **íŒŒì´ì–´ë² ì´ìŠ¤ë‘ í†µì‹ í•˜ëŠ” í•¨ìˆ˜ = ë¯¸ë“¤ì›¨ì–´**
```javascript
import {db} from "../../firebase"; 
import { collection, getDocs } from "firebase/firestore";

export const loadWordFB = () => {
  return async function (dispatch) {
    const word_data = await getDocs(collection(db, "words")); // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

    let word_list = [];

    word_data.forEach((doc) => { // í•˜ë‚˜ì”© ì“¸ ìˆ˜ ìˆëŠ” ë°°ì—´ ë°ì´í„°ë¡œ ë§Œë“¬
      word_list.push({id:doc.id, ...doc.data()});
    });
  
    dispatch(loadWord(word_list));
  }
}
```
â¡ **ê²°ê³¼**
![](https://velog.velcdn.com/images/hongsoom/post/46a00d9d-130d-46b9-ab9d-e92ec013b867/image.PNG)


â‘£ **ë¦¬ë“€ì„œ í•¨ìˆ˜**
```javascript
export default function reducer(state = initialState, action = {}) {
    switch (action.type) {
      case "words/LOAD":
        return {list : action.word_list};
      default:
        return state;
    }
  }
```

â‘¤ **ë¶ˆëŸ¬ì˜¤ê¸°**
```javascript
import { useDispatch } from "react-redux";
import { loadWordFB } from "../src/redux/modules/words";

const dispatch = useDispatch();

React.useEffect (() => {
    dispatch(loadWordFB());
  }, []);
```

<br/>

-----------------------------
 - **ê²Œì‹œê¸€ ëª©ë¡ì„ íŒŒì´ì–´ìŠ¤í† ì–´ì— ì €ì¥í•˜ê¸°**
 
â‘  **ì•¡ì…˜ íƒ€ì…**

```javascript
const CREATE = 'words/CREATE';
```
â‘¡ **ì•¡ì…˜ ìƒì„± í•¨ìˆ˜**
```javascript
export function createWord(word) {
  return { type: CREATE, word };
}
```

â‘¢ **íŒŒì´ì–´ë² ì´ìŠ¤ë‘ í†µì‹ í•˜ëŠ” í•¨ìˆ˜ = ë¯¸ë“¤ì›¨ì–´**
```javascript
export const createWordFB = (word) => {
  return async function (dispatch) {
    const docRef = await addDoc(collection(db, "words"), word );
    const word_data = {id: docRef.id, ...word}; // ì¶”ê°€í•œ ë°ì´í„° ì¤‘ idë¥¼ ê°€ì ¸ì™€ì„œ word_data ë§Œë“¬

    dispatch(createWord(word_data));
  }
}
```

â‘£ **ë¦¬ë“€ì„œ í•¨ìˆ˜**
```javascript
export default function reducer(state = initialState, action = {}) {
    switch (action.type) {
      case "words/CREATE": {
        const new_word_list = [...state.list, action.word]; // ì›ë˜ ìˆë˜ listë°°ì—´ì— ìƒˆë¡œ ë“¤ì–´ì˜¨ ë°ì´í„° word(ì•¡ì…˜ ê°ì²´)ë¥¼ ë„£ëŠ”ë‹¤.
        return { list: new_word_list }; // ê°ì²´ í˜•ì‹ìœ¼ë¡œ ë„£ì–´ì„œ ë°˜í™˜
      }
      default:
      	return state;
    }
  }   
```

â‘¤ **inputë°•ìŠ¤ì—ì„œ ì…ë ¥ëœ ê°’ ê°€ì ¸ì˜¤ê¸°**
```javascript
import { createWordFB } from "../redux/modules/words"; 

const dispatch = useDispatch(); 

const addWordList = () => {
        dispatch(createWordFB({ // ì•¡ì…˜ì„ dispatch
            word : word.current.value, 
            mean : mean.current.value,
            ex : ex.current.value,
            read : read.current.value,
            completed : false,
        }));
        history.goBack();
      };
```
 - **ê²Œì‹œê¸€ ì‚­ì œí•˜ê¸°**
 
â‘  **ì•¡ì…˜ íƒ€ì…**
```javascript
const DELETE = 'words/DELETE';
```
â‘¡ **ì•¡ì…˜ ìƒì„± í•¨ìˆ˜**
```javascript
export function deleteWord(word_index) {
  return { type: DELETE, word_index };
}
```
â‘¢ **íŒŒì´ì–´ë² ì´ìŠ¤ë‘ í†µì‹ í•˜ëŠ” í•¨ìˆ˜ = ë¯¸ë“¤ì›¨ì–´**
```javascript
export const deleteWordFB = (word_id) => {
  return async function(dispatch, getState) {
    const docRef = doc(db, "words", word_id);
    await deleteDoc(docRef);

    const _word_list = getState().words.list;
    const word_index = _word_list.findIndex((i) => {
      return i.id === word_id;
    });
    
    dispatch(deleteWord(word_index));
  }
}```
â‘£ **ë¦¬ë“€ì„œ í•¨ìˆ˜**
```javascript
export default function reducer(state = initialState, action = {}) {
    switch (action.type) {
		case "words/DELETE": {
      		const new_word_list = state.list.filter((l, idx) => {
        		return parseInt(action.word_index) !== idx;
      		});
      		return {list: new_word_list};
    	}
      	default:
        	return state;
    	}
  	}        
```
â‘¤ **ì‚­ì œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì•¡ì…˜ ì‹¤í–‰**
```javascript
<button type="button" className="btn_delete" 
	onClick={() => { dispatch(deleteWordFB(list.id));
                    window.alert("ì‚­ì œí–ˆìŠµë‹ˆë‹¤!");}}>
                      		<BsTrash size="25"/></button>
```
## ì˜¤ëŠ˜ ëŠë‚€ì 
ìì£¼ í‹€ë ¤ë³´ë‹ˆê¹Œ ì¡°ê¸ˆì”© ì´í•´ê°€ ê°„ë‹¤. ê·¸ë˜ë„ ì–´ë µë‹¤ íŒŒì´ì–´ìŠ¤í† ì–´ ,, ê³¼ì œ í•„ìˆ˜ë¡œ êµ¬í˜„í•œ ê²ƒì€ ë‹¤ í–ˆê³  ì¶”ê°€ë¡œ ì‚­ì œë¥¼ ë„£ì—ˆë‹¤. ìˆ˜ì •, ë¬´í•œìŠ¤í¬ë¡¤, ë°˜ì‘í˜• css ë§Œë“¤ì–´ ë´ì•¼ì§€!